=== –°–ö–û–ü–ò–†–£–ô –≠–¢–û–¢ –¢–ï–ö–°–¢ –í CURSOR CHAT ===

–ü—Ä–∏–≤–µ—Ç! –ú–Ω–µ –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Poster API –≤ –ø—Ä–æ–µ–∫—Ç.

–ó–ê–î–ê–ß–ê:
1. –û–±–Ω–æ–≤–∏ –ë–î (–º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è Poster)
2. –î–æ–±–∞–≤—å —Ñ–∞–π–ª—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
3. –û–±–Ω–æ–≤–∏ main_app.py (–¥–æ–±–∞–≤—å –∫–Ω–æ–ø–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ Poster)
4. –û–±–Ω–æ–≤–∏ api_server.py (–Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
5. –û–±–Ω–æ–≤–∏ requirements.txt

---

## –®–ê–ì 1: –û–ë–ù–û–í–ò –ë–î

–í—ã–ø–æ–ª–Ω–∏:
```bash
sqlite3 finance_v5.db < migration_poster.sql
```

---

## –®–ê–ì 2: –î–û–ë–ê–í–¨ –§–ê–ô–õ–´

–°–∫–æ–ø–∏—Ä—É–π –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ main_app.py):
- sync_poster.py
- poster_scheduler.py
- poster_settings_ui.py
- api_categories_poster.py

---

## –®–ê–ì 3: –û–ë–ù–û–í–ò main_app.py

### 3.1. –í –º–µ—Ç–æ–¥–µ create_main_screen() –Ω–∞–π–¥–∏ —Å–ø–∏—Å–æ–∫ buttons (—Å—Ç—Ä–æ–∫–∞ ~70):

–ë–´–õ–û:
```python
buttons = [
    ...
    ("üå≥ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–æ–≤—ã–µ)", self.manage_categories_new, 2, 1),
    ("üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞", self.show_analytics, 2, 2),
    ("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏", self.open_settings, 3, 0),
    ("ü§ñ Telegram –±–æ—Ç", self.telegram_status, 3, 1),
]
```

–°–¢–ê–õ–û:
```python
buttons = [
    ...
    ("üå≥ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–æ–≤—ã–µ)", self.manage_categories_new, 2, 1),
    ("üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞", self.show_analytics, 2, 2),
    ("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏", self.open_settings, 3, 0),
    ("üì° Poster API", self.open_poster_settings, 3, 1),
    ("ü§ñ Telegram –±–æ—Ç", self.telegram_status, 3, 2),
]
```

### 3.2. –î–æ–±–∞–≤—å –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ ~200):

```python
def open_poster_settings(self):
    """–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Poster API"""
    from poster_settings_ui import PosterSettingsWindow
    PosterSettingsWindow(self.db.db_path)
```

### 3.3. –ó–∞–ø—É—Å—Ç–∏ scheduler –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ (–≤ __init__ –∏–ª–∏ create_main_screen):

```python
# –í –º–µ—Ç–æ–¥–µ __init__ –∫–ª–∞—Å—Å–∞ MainApp –¥–æ–±–∞–≤—å:
from poster_scheduler import start_scheduler
try:
    start_scheduler()
except Exception as e:
    print(f"Poster scheduler error: {e}")
```

---

## –®–ê–ì 4: –û–ë–ù–û–í–ò api_server.py

### 4.1. –î–æ–±–∞–≤—å –∏–º–ø–æ—Ä—Ç –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞:

```python
from api_categories_poster import router as categories_router
from poster_scheduler import start_scheduler, stop_scheduler
```

### 4.2. –î–æ–±–∞–≤—å router –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è app:

```python
app = FastAPI(title="Finance API")

# –î–æ–±–∞–≤—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É:
app.include_router(categories_router)
```

### 4.3. –î–æ–±–∞–≤—å —Å–æ–±—ã—Ç–∏—è –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏:

```python
@app.on_event("startup")
async def startup_event():
    logger.info("üöÄ API Server starting...")
    try:
        start_scheduler()
        logger.info("‚úÖ Poster scheduler started")
    except Exception as e:
        logger.error(f"‚ùå Poster scheduler error: {e}")

@app.on_event("shutdown")
async def shutdown_event():
    logger.info("‚èπÔ∏è API Server shutting down...")
    try:
        stop_scheduler()
        logger.info("‚úÖ Poster scheduler stopped")
    except:
        pass
```

---

## –®–ê–ì 5: –û–ë–ù–û–í–ò requirements.txt

–î–æ–±–∞–≤—å —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏:
```
requests>=2.31.0
apscheduler>=3.10.0
```

–ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏:
```bash
pip install requests apscheduler --break-system-packages
```

---

## –®–ê–ì 6: –ü–†–û–í–ï–†–ö–ê

–ó–∞–ø—É—Å—Ç–∏ Desktop:
```bash
python3 main_app.py
```

–ü—Ä–æ–≤–µ—Ä—å:
1. ‚úÖ –ö–Ω–æ–ø–∫–∞ "üì° Poster API" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
2. ‚úÖ –ú–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ API token
3. ‚úÖ "–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç

–ó–∞–ø—É—Å—Ç–∏ API:
```bash
python3 api_server.py
```

–ü—Ä–æ–≤–µ—Ä—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- GET /api/categories/for_cashier - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –∫–∞—Å—Å–∏—Ä–∞
- GET /api/categories/all - –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- POST /api/categories/sync_now - –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

---

## –®–ê–ì 7: –ù–ê–°–¢–†–û–ô–ö–ê POSTER

1. –û—Ç–∫—Ä–æ–π Desktop ‚Üí "üì° Poster API"
2. –í–≤–µ–¥–∏ API Token: `446581:5788638578facbc50916f9f175303637`
   - –¢–æ–∫–µ–Ω –≤–∏–¥–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é (–Ω–µ —Å–∫—Ä—ã—Ç –∑–≤—ë–∑–¥–æ—á–∫–∞–º–∏)
   - –ö–Ω–æ–ø–∫–∞ üîí - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å
3. –û—Å—Ç–∞–≤—å –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. –ü–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É "‚úÖ –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é"
5. –ñ–º–∏ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
   - –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î
   - –ü–æ—è–≤–∏—Ç—Å—è —Å—Ç–∞—Ç—É—Å: "–°–æ—Ö—Ä–∞–Ω—ë–Ω: 4465...7637"
6. –ñ–º–∏ "üß™ –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"
   - –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
7. –ñ–º–∏ "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å"
8. –ì–æ—Ç–æ–≤–æ! –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∏–∑ Poster

–í–ê–ñ–ù–û: –¢–æ–∫–µ–Ω —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –Ω–µ –Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑!

---

## –®–ê–ì 8: –î–ï–ü–õ–û–ô –ù–ê RAILWAY

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
git add .
git commit -m "Add Poster API integration with auto-sync"
git push
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π!

---

–ü–†–û–í–ï–†–¨:
- [ ] –§–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
- [ ] main_app.py –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] api_server.py –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] requirements.txt –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ó–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ Railway

=== –ö–û–ù–ï–¶ –ü–†–û–ú–ü–¢–ê ===
