#!/usr/bin/env python3
"""
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã V5 - Air Waffle
–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–∏–∑–Ω–µ—Å–∞ - –í–°–ï –º–µ—Ç–æ–¥—ã –æ–ø–ª–∞—Ç—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
"""

from database_v5 import FinanceSystemV5

print("=" * 70)
print("  –ù–ê–°–¢–†–û–ô–ö–ê –°–ò–°–¢–ï–ú–´ V5 - AIR WAFFLE")
print("=" * 70)

db = FinanceSystemV5()

# ========== 1. –°–ß–ï–¢–ê ==========
print("\nüí∞ –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤...")

# –ö–∞—Å—Å–∞
cash_id = db.add_account("–ö–∞—Å—Å–∞ (–Ω–∞–ª–∏—á–Ω—ã–µ)", "cash")
print("  ‚úì –ö–∞—Å—Å–∞ (–Ω–∞–ª–∏—á–Ω—ã–µ)")

# –†–° —Å—á–µ—Ç–∞ (3 —à—Ç—É–∫–∏)
rs1_id = db.add_account("YATT TUYKINA KLARA", "bank")
rs2_id = db.add_account("TATT YUSUPOV ALISHER", "bank")
rs3_id = db.add_account("OOO AIR WAFFLE", "bank")
print("  ‚úì YATT TUYKINA KLARA")
print("  ‚úì TATT YUSUPOV ALISHER")
print("  ‚úì OOO AIR WAFFLE")

# ========== 2. –ú–ï–¢–û–î–´ –û–ü–õ–ê–¢–´ ==========
print("\nüí≥ –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã...")

# –ú–∞—Å—Å–∏–≤ –†–° –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π
rs_accounts = [
    (rs1_id, "YATT"),
    (rs2_id, "TATT"),
    (rs3_id, "OOO")
]

payment_methods_created = 0

for rs_id, rs_name in rs_accounts:
    # –¢–µ—Ä–º–∏–Ω–∞–ª—ã (–∫–æ–º–∏—Å—Å–∏—è 0.2%)
    db.add_payment_method(f"Uzcard ({rs_name})", "terminal", 0.2, rs_id)
    db.add_payment_method(f"Humo ({rs_name})", "terminal", 0.2, rs_id)
    payment_methods_created += 2
    
    # –û–Ω–ª–∞–π–Ω (–∫–æ–º–∏—Å—Å–∏—è 1%)
    db.add_payment_method(f"Click ({rs_name})", "online", 1.0, rs_id)
    db.add_payment_method(f"Payme ({rs_name})", "online", 1.0, rs_id)
    db.add_payment_method(f"Uzum Pay ({rs_name})", "online", 1.0, rs_id)
    payment_methods_created += 3
    
    # –î–æ—Å—Ç–∞–≤–∫–∏ (—Ä–∞–∑–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏)
    db.add_payment_method(f"Yandex Eats ({rs_name})", "delivery", 32.0, rs_id)
    db.add_payment_method(f"Uzum Tezkor ({rs_name})", "delivery", 32.0, rs_id)
    db.add_payment_method(f"Wolt ({rs_name})", "delivery", 26.0, rs_id)
    payment_methods_created += 3

print(f"  ‚úì –°–æ–∑–¥–∞–Ω–æ {payment_methods_created} –º–µ—Ç–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã (–ø–æ 8 –Ω–∞ –∫–∞–∂–¥—ã–π –†–°)")

# ========== 3. –¢–û–ß–ö–ò –ü–†–û–î–ê–ñ ==========
print("\nüìç –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –ø—Ä–æ–¥–∞–∂...")

db.add_location("D&D Magic City", "—É–ª. –ë–æ–±—É—Ä–∞ 174/14")
db.add_location("–í—ã–µ–∑–¥–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è", "–†–∞–∑–ª–∏—á–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏")
print("  ‚úì D&D Magic City")
print("  ‚úì –í—ã–µ–∑–¥–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è")

# ========== 4. –ö–ê–¢–ï–ì–û–†–ò–ò –†–ê–°–•–û–î–û–í ==========
print("\nüìÇ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤...")

# FOOD COST
categories_created = 0

# –°—ã—Ä—å—ë
raw_items = [
    "–Æ–∫–∫–∏", "–ö–æ–ª–±–∞—Å–∫–∞ –ö—É—Ä–∏–Ω.", "–ö–æ–ª–±–∞—Å–∫–∏ –ì–æ–≤—è–∂.", "–°–æ—Å–∏—Å–∫–∞ –º–æ–ª–æ—á–Ω–∞—è", "–ú–æ—Ü–∞—Ä–µ–ª–ª–∞",
    "–§–∞—Ä—à –¥–ª—è –ì–∞–º–±—É—Ä–≥–µ—Ä–æ–≤", "–ë—É–ª–æ—á–∫–∞", "–ë—É–ª–æ—á–∫–∞ –¥–ª—è –ì–∞–º–±—É—Ä–≥–µ—Ä–æ–≤", "–°—Ç—Ä–∏–ø—Å—ã –ü–§",
    "–°—ã—Ä —á–µ–¥–¥–µ—Ä", "–¢–æ—Ä—Ç–∏–ª—å—è", "–§—Ä–∏", "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∏–π", "–ù–∞–≥–µ—Ç—Å—ã",
    "–§—Ä–∏—Ç—é—Ä–Ω–æ–µ –º–∞—Å–ª–æ", "–•–∞–ª–∞–ø–µ–Ω—å–æ", "–ú—É–∫–∞", "–Ø–π—Ü–æ", "–î—Ä–æ–∂–∂–∏", "–ú–∞–π–æ–Ω–µ–∑",
    "–ö–µ—Ç—á—É–ø", "–ú–µ–¥–æ–≤–æ-–≥–æ—Ä—á–∏—á–Ω—ã–π", "–ó–µ—Ä–Ω–∏—Å—Ç–∞—è –≥–æ—Ä—á–∏—Ü–∞", "–°—ã—Ä–Ω—ã–π —Å–æ—É—Å",
    "–ö—É–∫—É—Ä—É–∑–Ω–∞—è –º—É–∫–∞", "–ú–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ –æ–≥—É—Ä—Ü—ã", "–†–∞–∑—Ä—ã—Ö–ª–∏—Ç–µ–ª—å", "–ú–æ–ª–æ–∫–æ",
    "–†–∞–º–µ–Ω", "–†–∞–º–µ–Ω –Ω–µ –æ—Å—Ç—Ä—ã–π", "–†–∞–º–µ–Ω –æ—Å—Ç—Ä—ã–π", "–†—É—Å—Å–∫–∞—è –≥–æ—Ä—á–∏—Ü–∞",
    "–°–ª–∏–≤–æ—á–Ω—ã–π –°—ã—Ä", "–°–æ–ª—å", "–°–æ—É—Å –¥–ª—è –ì–∞–º–±—É—Ä–≥–µ—Ä–æ–≤", "–°–æ—É—Å –°–≤–∏—Ç –ß–∏–ª–∏",
    "–°–æ—É—Å –Ø–Ω—ë–º", "–°–æ–µ–≤—ã–π —Å–æ—É—Å", "–ß–µ—Å–Ω–æ—á–Ω—ã–π —Å–æ—É—Å", "–°–∞—Ö–∞—Ä", "–ü–æ–º–∏–¥–æ—Ä—ã",
    "–û–≥—É—Ä—Ü—ã", "–ê–π—Å–±–µ—Ä–≥", "–õ—É–∫ –∑–µ–ª–µ–Ω—ã–π", "–õ—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π", "–ú–∞—Å–ª–æ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ",
    "–ü–∞–Ω–∏—Ä–æ–≤–∫–∞", "–ü–µ—Ä–µ—Ü —á–µ—Ä–Ω—ã–π", "–ü–µ—á–µ–Ω—å–∫–∞ –∫ –∫–æ—Ñ–µ", "–ö—É–Ω–∂—É—Ç", "–õ–∏–º–æ–Ω",
    "–Ø–±–ª–æ–∫–æ", "–ê–ø–µ–ª—å—Å–∏–Ω", "–õ–∞–π–º", "–ú—è—Ç–∞"
]

for item in raw_items:
    db.add_expense_category(item, "–°—ã—Ä—å—ë –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã")
    categories_created += 1

print(f"  ‚úì –°—ã—Ä—å—ë: {len(raw_items)} –∫–∞—Ç–µ–≥–æ—Ä–∏–π")

# –ù–∞–ø–∏—Ç–∫–∏
drinks_items = [
    "–ö–æ—Ñ–µ –≤ –∑–µ—Ä–Ω–∞—Ö", "–ö–∞—Ä–∫–∞–¥–µ (–∞–π—Å-—Ç–∏)", "–ß–∞–π —á–µ—Ä–Ω—ã–π", "–ö–∞—Ä–∞–º–µ–ª—å-–ª–∞—Ç—Ç–µ",
    "–ö–∞–∫–∞–æ", "–î–µ—Ç—Å–∫–∏–π —Å–æ–∫", "–õ–µ–¥", "–ì–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–æ–¥–∞", "–í–æ–¥–∞", "–°–∏—Ä–æ–ø –í–∞–Ω–∏–ª—å",
    "–°–∞—Ö–∞—Ä (–±–∞—Ä)", "–†–∞–∑–ª–∏–≤ Mirinda", "–†–∞–∑–ª–∏–≤ Pepsi", "–°–∏—Ä–æ–ø –ë–∞—Ä–∏–Ω–æ–≤",
    "–°–∏—Ä–æ–ø –ö–∞—Ä–∞–º–µ–ª—å", "–°–æ–∫ –ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π", "–°–æ–∫ –ì—Ä–∞–Ω–∞—Ç–æ–≤—ã–π", "–°–ø—Ä–∞–π—Ç", "–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω",
    "7 up", "Bliss", "Mirinda 0.5", "–í–æ–¥–∞ 0.5", "Pepsi 0.25", "Pepsi 0.5", 
    "Pepsi 1L", "Lipton 0.5"
]

for item in drinks_items:
    db.add_expense_category(item, "–ù–∞–ø–∏—Ç–∫–∏")
    categories_created += 1

print(f"  ‚úì –ù–∞–ø–∏—Ç–∫–∏: {len(drinks_items)} –∫–∞—Ç–µ–≥–æ—Ä–∏–π")

# –£–ø–∞–∫–æ–≤–∫–∏
packaging_items = [
    "–õ–æ–¥–æ—á–∫–∏", "–§—Ä–∏ –∫–æ—Ä–æ–±–∫–∏", "–£–ø–∞–∫–æ–≤–∫–∞ –∫—Ä–∞—Ñ—Ç –¥–ª—è –ì–∞–º–±—É—Ä–≥–µ—Ä–æ–≤", "–ö–∏–¥—Å –ë–æ–∫—Å",
    "–£–≥–æ–ª–æ–∫ –¥–ª—è –ì–∞–º–±—É—Ä–≥–µ—Ä–æ–≤", "–ü–∞–ª–∫–∞ –¥–ª—è –∫–æ—Ä–Ω –¥–æ–≥–∞", "–°–æ—É—Å–Ω–∏—Ü–∞", "–ü–µ—Ä–≥–∞–º–µ–Ω—Ç",
    "–ë—É–º–∞–≥–∞ –¥–ª—è –ª–∞–≤–∞—à–∞", "–°—Ç–∞–∫–∞–Ω—á–∏–∫ –ö—Ä–∞—Ñ—Ç", "–°—Ç–∞–∫–∞–Ω—á–∏–∫ –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π",
    "–†–∞–∑–ª–∏–≤ —Å—Ç–∞–∫–∞–Ω—á–∏–∫ 0.3–ª", "–†–∞–∑–ª–∏–≤ —Å—Ç–∞–∫–∞–Ω—á–∏–∫ 0.4–ª", "–°—Ç–∞–∫–∞–Ω—á–∏–∫ –¥–ª—è –º–æ—Ä–æ–∂–µ–Ω–æ–≥–æ",
    "–¢—Ä—É–±–æ—á–∫–∞", "–í–ª–∞–∂–Ω—ã–µ —Å–∞–ª—Ñ–µ—Ç–∫–∏", "–°–∞–ª—Ñ–µ—Ç–∫–∏"
]

for item in packaging_items:
    db.add_expense_category(item, "–£–ø–∞–∫–æ–≤–∫–∞ –∏ —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏")
    categories_created += 1

print(f"  ‚úì –£–ø–∞–∫–æ–≤–∫–∞: {len(packaging_items)} –∫–∞—Ç–µ–≥–æ—Ä–∏–π")

# LABOR COST
db.add_expense_category("–ó–∞—Ä–ø–ª–∞—Ç–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤", "–ó–∞—Ä–ø–ª–∞—Ç—ã")
db.add_expense_category("–ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞/—Å–¥–µ–ª—å–Ω–∞—è –æ–ø–ª–∞—Ç–∞", "–ó–∞—Ä–ø–ª–∞—Ç—ã")
categories_created += 2
print("  ‚úì –ó–∞—Ä–ø–ª–∞—Ç—ã: 2 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")

# OVERHEAD
db.add_expense_category("–ê—Ä–µ–Ω–¥–∞", "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã")
db.add_expense_category("–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ (—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ, –≥–∞–∑, –≤–æ–¥–∞)", "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã")
db.add_expense_category("–†–µ–º–æ–Ω—Ç –∏ —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ (–º–æ—é—â–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞)", "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã")
db.add_expense_category("IT/—Å–µ—Ä–≤–∏—Å—ã (–∫–∞—Å—Å–∞, –ü–û, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)", "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã")
db.add_expense_category("–û—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–æ–≤", "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã")
db.add_expense_category("–ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã", "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã")
categories_created += 6
print("  ‚úì –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π")

print(f"\n  üìä –í–°–ï–ì–û –ö–ê–¢–ï–ì–û–†–ò–ô: {categories_created}")

# ========== –ò–¢–û–ì–ò ==========
print("\n" + "=" * 70)
print("  ‚úÖ –ù–ê–°–¢–†–û–ô–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê!")
print("=" * 70)

balances = db.get_account_balance()

print(f"\nüí∞ –ë–ê–õ–ê–ù–°–´ –°–ß–ï–¢–û–í:")
for acc_id, data in balances.items():
    acc_emoji = "üíµ" if data['type'] == 'cash' else "üè¶"
    print(f"  {acc_emoji} {data['name']}: {data['balance']:,.0f} —Å—É–º")

print(f"\nüìä –°–û–ó–î–ê–ù–û:")
print(f"  –°—á–µ—Ç–æ–≤: {len(db.get_accounts())}")
print(f"  –ú–µ—Ç–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã: {len(db.get_payment_methods())}")
print(f"  –¢–æ—á–µ–∫ –ø—Ä–æ–¥–∞–∂: {len(db.get_locations())}")
print(f"  –ö–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤: {categories_created}")

print("\n" + "=" * 70)
print("  üéâ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï!")
print("=" * 70)
print("\n–ó–∞–ø—É—Å—Ç–∏—Ç–µ GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:")
print("  python3 main_app.py")
print("\n–ò–ª–∏ Telegram –±–æ—Ç–∞:")
print("  python3 telegram_bot_simple.py")
print("=" * 70)

db.close()

